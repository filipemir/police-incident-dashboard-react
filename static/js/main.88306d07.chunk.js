(window["webpackJsonpbos-criminal-incidence"]=window["webpackJsonpbos-criminal-incidence"]||[]).push([[0],{17:function(t,e,n){t.exports=n(27)},23:function(t,e,n){},26:function(t,e,n){},27:function(t,e,n){"use strict";n.r(e);var a=n(0),r=n.n(a),o=n(11),c=n.n(o),i=n(9),s=n.n(i),u=n(16),p=n(2),l=n.n(p),m=n(12),d=n.n(m),f=n(29),h=n(31),v=n(30),b=(n(23),n(13)),E=n.n(b),w="https://cors-anywhere.herokuapp.com/https://data.boston.gov/api/3/action/datastore_search_sql?sql=";var g="https://{s}.basemaps.cartocdn.com/rastertiles/voyager/{z}/{x}/{y}{r}.png",D='&copy; <a href="https://www.openstreetmap.org/copyright">OpenStreetMap</a> contributors &copy; <a href="https://carto.com/attributions">CARTO</a>';function y(t,e){return l.a.marker(e,{icon:l.a.divIcon({className:"incident-marker"})})}function k(t,e){e.bindPopup(JSON.stringify(t.properties))}function O(t){var e=t.latLong,n=t.startDate,o=t.endDate,c=t.updateInterval,i=void 0===c?6e4:c,s=Object(a.useState)([]),p=Object(u.a)(s,2),l=p[0],m=p[1],b=function(){(function(t){var e=t.startDate,n=t.endDate,a='SELECT * from "12cb3883-56f5-47de-afa5-3b1cf61b257b" WHERE "OCCURRED_ON_DATE" BETWEEN \''.concat(e,"' and '").concat(n,"'");return fetch(w+a).then((function(t){return t.json()})).then((function(t){return E.a.parse(t.result.records,{Point:["Lat","Long"]})}))})({startDate:n,endDate:o}).then((function(t){m(t)}))};return Object(a.useEffect)((function(){b();var t=setInterval(b,i);return function(){return clearInterval(t)}})),r.a.createElement("div",{className:"map-root"},r.a.createElement(f.a,{center:e,zoom:13},r.a.createElement(h.a,{url:g,attribution:D}),r.a.createElement(v.a,{key:d()(l),data:l,pointToLayer:y,onEachFeature:k})))}n(26);var L="YYYY-MM-DD hh:mm";Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));c.a.render(r.a.createElement((function(){var t=s()().format(L),e=s()().subtract(72,"hours").format(L);return r.a.createElement(O,{latLong:[42.3,-71.0589],startDate:e,endDate:t})}),null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(t){t.unregister()}))}},[[17,1,2]]]);
//# sourceMappingURL=main.88306d07.chunk.js.map